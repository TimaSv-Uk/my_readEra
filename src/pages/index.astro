---
import Welcome from '../components/Welcome.astro';
import Layout from '../layouts/Layout.astro';
import Shelf from '../components/Shelf.astro';
import library from "../readEra_backup/library.json";


function get_read_books(library_data:any) {
  return library_data.docs.filter(
    (book) => book.data.doc_have_read_time > 0
  );
}

let readBooks = get_read_books(library);
readBooks = readBooks.sort(
  (a, b) => b["data"]["doc_have_read_time"] - a["data"]["doc_have_read_time"],
);

---

<Layout>
  <!-- <Shelf jsonBooks={readBooks.slice(0,7)}/> -->
  <Shelf jsonBooks={readBooks}/>
</Layout>

<style>

body {
  display: flex;
  justify-content: center;
  height: 100vh;
}
</style>
